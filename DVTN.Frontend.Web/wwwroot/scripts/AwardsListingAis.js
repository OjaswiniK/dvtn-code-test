import{x as l,o as r,y as q,z as c,A as d,a as e,r as x,c as p,j as E,t as o,F as N,b as j,w as z,B as H,n as m,h as f}from"./chunks/ReCaptchaVuePlugin.js";import{E as b}from"./chunks/EventBus.js";import{a as I,s as M}from"./chunks/singleIndex.js";import{_ as P}from"./chunks/_plugin-vue_export-helper.js";import{h as V}from"./chunks/history.js";import"./chunks/_commonjsHelpers.js";function D(){}const F={props:{appId:{type:String,required:!0},apiKey:{type:String,required:!0},indexName:{type:String,required:!0}},data(){return{isAisLoading:!0,searchClient:I(this.appId,this.apiKey),routing:{router:V(),stateMapping:M(this.indexName)},middlewares:[D],siteHeaderEl:document.querySelector("#site-header")}},mounted(){b.emit("handleParallaxElements",{parallaxElems:this.$el.querySelectorAll(".js-parallax")}),b.addEventListener("proxy-stores-search-query",i=>{this.query=i.data.query})},methods:{transformItems(i){return this.isAisLoading&&(this.isAisLoading=!1),i},scrollToSearchTop(){window.scrollTo({top:this.$el.offsetTop-(this.siteHeaderEl?.offsetHeight||0),behavior:"smooth"})},scrollToResultsTop(){window.scrollTo({top:this.$refs.results.offsetTop-(this.siteHeaderEl?.offsetHeight||0),behavior:"smooth"})}}},K={class:"cc-hero-banner relative -mt-[var(--site-header-height)] flex min-h-[490px] flex-col justify-end bg-abergeldie-almost-black pt-[var(--site-header-height)] text-white"},O={class:"copy relative z-50 pb-8 desktop-header:pb-16"},R={class:"container container-wide flex flex-row gap-x-10"},U={class:"max-w-prose flex-1"},Y={class:"search-controls-wrapper mt-8 flex flex-col gap-x-5 gap-y-3 md:flex-row md:items-end"},G=e("label",{for:"awards-listing-ais-search",class:"mb-3 inline-block"},"Search by keyword",-1),J={class:"relative"},Q=["value","onInput"],W=["hidden"],X=e("label",{for:"awards-listing-ais-year",class:"mb-3 inline-block"},"Search by year",-1),Z=["disabled","onChange"],$=e("option",{value:""},"All",-1),ee=["value","selected"],se={class:"container container-wide"},te={ref:"results",class:"search-results-wrapper pt-16 desktop-header:pt-24"},ae={class:"relative"},oe={key:0,class:"hits-placeholder"},ie=e("span",{class:"spinner"},null,-1),ne=[ie],le={class:"image aspect-video overflow-hidden border border-abergeldie-stroke"},re=["data-src"],ce={class:"content mt-6"},de={class:"meta flex justify-between gap-x-5 text-xs font-semibold uppercase tracking-wide"},he={class:"h4 mb-5 mt-4"},pe=["href"],ue={key:1},_e={class:"space-y-1"},ge={class:"flex items-center justify-center gap-x-6 text-center"},me=["href","onClick"],fe=e("svg",{viewBox:"0 0 256 512",class:"svg-icon-chevron-right h-4 w-4 -translate-x-0.5 rotate-180 fill-current",xmlns:"http://www.w3.org/2000/svg",role:"presentation"},[e("path",{d:"M24.707 38.101 4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908 437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"})],-1),ve=[fe],we={class:"space-x-2"},xe=["value","onChange"],be=e("span",null,"of",-1),ye=["href","onClick"],ke=e("svg",{viewBox:"0 0 256 512",class:"svg-icon-chevron-right translate-0.5 h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",role:"presentation"},[e("path",{d:"M24.707 38.101 4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908 437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"})],-1),Se=[ke];function Te(i,v,y,Ce,u,h){const k=l("ais-configure"),S=l("ais-search-box"),T=l("ais-menu-select"),C=l("ais-hits"),L=l("ais-state-results"),A=l("ais-pagination"),B=l("ais-instant-search");return r(),q(B,{id:"awards-listing-ais",class:"mb-20","search-client":u.searchClient,"index-name":y.indexName,routing:u.routing,middlewares:u.middlewares,"on-state-change":i.onStateChange,future:{preserveSharedStateOnUnmount:!0}},{default:c(()=>[d(k,{hitsPerPage:12}),e("div",K,[e("div",O,[e("div",R,[e("div",U,[x(i.$slots,"default"),e("div",Y,[d(S,{"class-names":{"ais-SearchBox":"flex-1 md:max-w-72"}},{default:c(({currentRefinement:t,isSearchStalled:n,refine:s})=>[G,e("div",J,[e("input",{id:"awards-listing-ais-search",type:"search",class:"ais-SearchBox-input w-full rounded pr-10",placeholder:"Optional",value:t,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onInput:a=>s(a.currentTarget.value)},null,40,Q),e("span",{class:"spinner",hidden:!n},null,8,W)])]),_:1}),d(T,{attribute:"Year","class-names":{"ais-MenuSelect":"md:max-w-72"}},{default:c(({items:t,canRefine:n,refine:s})=>[X,e("select",{id:"awards-listing-ais-year",class:"w-full rounded",disabled:!n,onChange:a=>s(a.currentTarget.value)},[$,(r(!0),p(N,null,E(t,a=>(r(),p("option",{key:a.value,value:a.value,selected:a.isRefined},o(a.label),9,ee))),128))],40,Z)]),_:1}),e("button",{type:"button",class:"btn btn-white-outline",onClick:v[0]||(v[0]=t=>h.scrollToResultsTop())},"Search")])])])]),x(i.$slots,"background")]),e("div",se,[e("div",te,[e("div",ae,[u.isAisLoading?(r(),p("div",oe,ne)):j("",!0),d(L,null,{default:c(({status:t,results:{hits:n}})=>[z(e("div",null,"No results found.",512),[[H,!n.length]]),e("div",{class:m(["transition-opacity duration-500",{"opacity-20":t==="stalled","opacity-100":t!=="stalled"}])},[d(C,{"transform-items":h.transformItems,"class-names":{"ais-Hits":"","ais-Hits-list":"grid grid-cols-12 gap-x-8 gap-y-12","ais-Hits-item":"col-span-12 sm:col-span-6 md:col-span-4 lg:col-span-3 relative group"}},{item:c(({item:s})=>[e("div",le,[e("img",{src:"","data-src":s.Image,alt:"",class:"lazyload lazyfade h-full w-full object-cover transition-all group-hover:scale-105"},null,8,re)]),e("div",ce,[e("div",de,[e("div",null,o(s.Placement)+" / "+o(s.Year),1)]),e("h3",he,[s.Url?(r(),p("a",{key:0,class:"stretched-link text-abergeldie-green hover:underline",href:s.Url},o(s.Name),9,pe)):(r(),p("span",ue,o(s.Name),1))]),e("div",_e,[e("div",null,o(s.AwardingBody),1),e("div",null,o(s.AwardCategory),1)])])]),_:1},8,["transform-items"])],2)]),_:1})]),d(A,{"class-names":{"ais-Pagination":"border-t pt-10 mt-16"}},{default:c(({currentRefinement:t,pages:n,isFirstPage:s,isLastPage:a,refine:_,createURL:w})=>[e("nav",ge,[e("a",{class:m(["flex aspect-square h-[50px] items-center justify-center rounded-full bg-abergeldie-green text-white transition-colors hover:bg-abergeldie-blue",{"pointer-events-none opacity-30":s}]),href:w(t-1),onClick:f(g=>{_(t-1),h.scrollToResultsTop()},["prevent"])},ve,10,me),e("div",null,[e("div",we,[e("input",{type:"text",class:"w-12 rounded text-center",value:t+1,onChange:f(g=>{_(g.target.value-1),h.scrollToResultsTop()},["prevent"])},null,40,xe),be,e("span",null,o(n.length),1)])]),e("a",{class:m(["flex aspect-square h-[50px] items-center justify-center rounded-full bg-abergeldie-green text-white transition-colors hover:bg-abergeldie-blue",{"pointer-events-none opacity-30":a}]),href:w(t+1),onClick:f(g=>{_(t+1),h.scrollToResultsTop()},["prevent"])},Se,10,ye)])]),_:1})],512)])]),_:3},8,["search-client","index-name","routing","middlewares","on-state-change"])}const je=P(F,[["render",Te]]);export{je as default};
