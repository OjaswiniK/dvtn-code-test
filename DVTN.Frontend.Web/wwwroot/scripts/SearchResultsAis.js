import{x as n,o as h,y as O,z as d,A as i,a as e,r as k,c as u,h as g,b as _,t as C,g as q,w as F,B as I,n as L}from"./chunks/ReCaptchaVuePlugin.js";import{E as N}from"./chunks/EventBus.js";import{a as z,s as V}from"./chunks/singleIndex.js";import{_ as D}from"./chunks/_plugin-vue_export-helper.js";import{h as Z}from"./chunks/history.js";import"./chunks/_commonjsHelpers.js";function $(){}const K={props:{appId:{type:String,required:!0},apiKey:{type:String,required:!0},indexName:{type:String,required:!0}},data(){return{isAisLoading:!0,searchClient:z(this.appId,this.apiKey),routing:{router:Z(),stateMapping:V(this.indexName)},middlewares:[$],siteHeaderEl:document.querySelector("#site-header"),filtersOverlay:void 0,filtersOverlayToggles:void 0}},mounted(){N.emit("handleParallaxElements",{parallaxElems:this.$el.querySelectorAll(".js-parallax")}),this.bindEvents()},methods:{bindEvents(){this.filtersOverlay=this.$el.querySelector("#filters-overlay"),this.filtersOverlayToggles=this.$el.querySelectorAll(".js-toggle-filters-overlay"),this.filtersOverlayToggles.forEach(s=>{s.addEventListener("click",r=>{r.preventDefault(),this.filtersOverlay.getAttribute("aria-hidden")==="true"?this.openFilters(r.currentTarget):this.closeFilters()})})},onStateChange({uiState:s,setUiState:r}){s[this.indexName]?.refinementList?this.$el.classList.add("has-refinements"):this.$el.classList.remove("has-refinements"),r(s)},openFilters(s){this.filtersOverlay.setAttribute("aria-hidden","false"),document.addEventListener("keydown",this.closeFiltersOnEscape.bind(this)),document.body.classList.add("overflow-hidden")},closeFilters(){this.filtersOverlay.setAttribute("aria-hidden","true"),document.removeEventListener("keydown",this.closeFiltersOnEscape.bind(this)),document.body.classList.remove("overflow-hidden")},closeFiltersOnEscape(s){(s.key==="Escape"||s.keyCode===27)&&this.closeFilters()},renderViewingRange(s,r,m){const b=m,l=s,p=(r+1-1)*l+1,v=Math.min(p+l-1,b);return`${p}â€“${v} of ${b}`},transformItems(s){return this.isAisLoading&&(this.isAisLoading=!1),s},scrollToSearchTop(){window.scrollTo({top:this.$el.offsetTop-(this.siteHeaderEl?.offsetHeight||0),behavior:"smooth"})},scrollToResultsTop(){window.scrollTo({top:this.$refs.results.offsetTop-(this.siteHeaderEl?.offsetHeight||0),behavior:"smooth"})}}},U={class:"cc-hero-banner relative -mt-[var(--site-header-height)] flex min-h-[490px] flex-col justify-end bg-abergeldie-almost-black pt-[var(--site-header-height)] text-white"},G={class:"copy relative z-50 pb-8 desktop-header:pb-16"},J={class:"container container-wide flex flex-row gap-x-10"},Q={class:"max-w-prose flex-1"},W={class:"search-controls-wrapper mt-8 flex flex-col gap-x-5 gap-y-3 md:flex-row md:items-end"},X=e("label",{for:"awards-listing-ais-search",class:"sr-only mb-3 inline-block"},"Search by keyword",-1),Y={class:"relative"},ee=["value","onInput"],se=["hidden"],te={class:"container container-wide"},ie={ref:"results",class:"search-results-wrapper pt-8 desktop-header:pt-24"},ne=e("div",{class:"mb-6 md:hidden"},[e("button",{type:"button",class:"js-toggle-filters-overlay btn btn-primary-outline flex w-full gap-x-3"},[e("svg",{class:"fa-icon-bars-filter shrink-0",xmlns:"http://www.w3.org/2000/svg",width:"11",height:"9",viewBox:"0 0 11 9",fill:"none"},[e("path",{d:"M0.5 0.5625C0.5 0.257812 0.734375 0 1.0625 0H10.4375C10.7422 0 11 0.257812 11 0.5625C11 0.890625 10.7422 1.125 10.4375 1.125H1.0625C0.734375 1.125 0.5 0.890625 0.5 0.5625ZM2 4.3125C2 4.00781 2.23438 3.75 2.5625 3.75H8.9375C9.24219 3.75 9.5 4.00781 9.5 4.3125C9.5 4.64062 9.24219 4.875 8.9375 4.875H2.5625C2.23438 4.875 2 4.64062 2 4.3125ZM7.25 8.0625C7.25 8.39062 6.99219 8.625 6.6875 8.625H4.8125C4.48438 8.625 4.25 8.39062 4.25 8.0625C4.25 7.75781 4.48438 7.5 4.8125 7.5H6.6875C6.99219 7.5 7.25 7.75781 7.25 8.0625Z",fill:"currentColor"})]),e("span",null,"Filter results")])],-1),ae={class:"current-refinements mb-6 flex flex-wrap items-center gap-x-4 gap-y-4 md:gap-y-2"},re=e("h2",{class:"current-refinements-heading h4"},"Applied filters",-1),le={class:"flex flex-wrap gap-2"},oe=["href","onClick"],ce={class:"md:flex md:flex-row md:justify-between md:gap-x-10"},de={class:"results-filters lg:w-[300px]"},he={id:"filters-overlay",class:"visible fixed inset-0 z-[5000] bg-white opacity-100 transition-aria-reveal aria-hidden:invisible aria-hidden:opacity-0 md:!visible md:static md:inset-auto md:z-0 md:!opacity-100","aria-hidden":"true"},me=e("button",{class:"js-toggle-filters-overlay absolute right-0 top-0 flex aspect-square min-h-[70px] items-center justify-center text-abergeldie-green transition-colors hover:text-white md:hidden"},[e("svg",{class:"w-6",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M16.5195 2.20703L10.4258 8.30078L16.4688 14.3438C16.9766 14.8008 16.9766 15.5625 16.4688 16.0195C16.0117 16.5273 15.25 16.5273 14.793 16.0195L8.69922 9.97656L2.65625 16.0195C2.19922 16.5273 1.4375 16.5273 0.980469 16.0195C0.472656 15.5625 0.472656 14.8008 0.980469 14.293L7.02344 8.25L0.980469 2.20703C0.472656 1.75 0.472656 0.988281 0.980469 0.480469C1.4375 0.0234375 2.19922 0.0234375 2.70703 0.480469L8.75 6.57422L14.793 0.53125C15.25 0.0234375 16.0117 0.0234375 16.5195 0.53125C16.9766 0.988281 16.9766 1.75 16.5195 2.20703Z",fill:"currentColor"})])],-1),pe={class:"h-full overflow-auto md:overflow-visible"},fe={class:"h-full"},ue={class:"flex h-full flex-col space-y-8 pl-6 pr-14 pt-10 md:p-0"},ge=e("h2",{class:"h5 mb-5 min-h-10 border-b border-b-abergeldie-stroke pb-3"},"Region",-1),_e={key:0,class:"refinement-list-placeholder min-h-36"},be=e("span",{class:"spinner"},null,-1),ve=[be],xe=e("h2",{class:"h5 mb-5 min-h-10 border-b border-b-abergeldie-stroke pb-3"},"Capabilities",-1),we={key:0,class:"refinement-list-placeholder min-h-64"},ye=e("span",{class:"spinner"},null,-1),Ce=[ye],Le=e("div",{class:"apply-button flex flex-1 items-end pb-10 md:hidden"},[e("button",{type:"button",class:"js-toggle-filters-overlay btn btn-primary w-full"},"Apply")],-1),Re={class:"results-listing relative max-w-[850px] flex-1"},ke={class:"max-w-[740px]"},Te={class:"topbar mb-5 flex min-h-10 items-center justify-between border-b border-b-abergeldie-stroke pb-3"},Se={class:"hidden items-center gap-x-2 md:flex"},Ee={key:0,class:"hits-placeholder min-h-[500px]"},He=e("span",{class:"spinner"},null,-1),Ae=[He],Me={class:"h5 mb-3"},Be=["href"],Pe={class:"flex items-center justify-center gap-x-6 text-center"},je=["href","onClick"],Oe=e("svg",{viewBox:"0 0 256 512",class:"svg-icon-chevron-right h-4 w-4 -translate-x-0.5 rotate-180 fill-current",xmlns:"http://www.w3.org/2000/svg",role:"presentation"},[e("path",{d:"M24.707 38.101 4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908 437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"})],-1),qe=[Oe],Fe={class:"space-x-2"},Ie=["value","onChange"],Ne=e("span",null,"of",-1),ze=["href","onClick"],Ve=e("svg",{viewBox:"0 0 256 512",class:"svg-icon-chevron-right translate-0.5 h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",role:"presentation"},[e("path",{d:"M24.707 38.101 4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908 437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"})],-1),De=[Ve];function Ze(s,r,m,b,l,c){const p=n("ais-configure"),v=n("ais-search-box"),T=n("ais-current-refinements"),S=n("ais-clear-refinements"),f=n("ais-refinement-list"),E=n("ais-stats"),H=n("ais-hits-per-page"),A=n("ais-highlight"),M=n("ais-hits"),B=n("ais-state-results"),P=n("ais-pagination"),j=n("ais-instant-search");return h(),O(j,{id:"search-results-ais",class:"mb-20","search-client":l.searchClient,"index-name":m.indexName,routing:l.routing,middlewares:l.middlewares,"on-state-change":c.onStateChange,future:{preserveSharedStateOnUnmount:!0}},{default:d(()=>[i(p,{hitsPerPage:12}),e("div",U,[e("div",G,[e("div",J,[e("div",Q,[k(s.$slots,"default"),e("div",W,[i(v,{"class-names":{"ais-SearchBox":"flex-1 md:max-w-[660px]"}},{default:d(({currentRefinement:t,isSearchStalled:o,refine:a})=>[X,e("div",Y,[e("input",{id:"awards-listing-ais-search",type:"search",class:"ais-SearchBox-input w-full rounded pr-10",placeholder:"",value:t,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",onInput:x=>a(x.currentTarget.value)},null,40,ee),e("span",{class:"spinner",hidden:!o},null,8,se)])]),_:1}),e("button",{type:"button",class:"btn btn-white-outline min-w-28",onClick:r[0]||(r[0]=t=>c.scrollToResultsTop())},"Search")])])])]),k(s.$slots,"background")]),e("div",te,[e("div",ie,[ne,e("div",ae,[re,e("div",le,[i(T,{"class-names":{"ais-CurrentRefinements":"text-sm","ais-CurrentRefinements--noRefinement":"hidden","ais-CurrentRefinements-list":"inline-flex flex-wrap gap-2","ais-CurrentRefinements-item":"inline-flex flex-wrap gap-2","ais-CurrentRefinements-label":"hidden","ais-CurrentRefinements-category":"rounded-full bg-abergeldie-gray px-2 py-1 text-xs font-semibold uppercase tracking-wide text-abergeldie-green","ais-CurrentRefinements-categoryLabel":"text-body","ais-CurrentRefinements-delete":"ml-2"}}),i(S,{"class-names":{"ais-ClearRefinements":"text-sm","ais-ClearRefinements-button--disabled":"hidden"}},{default:d(({canRefine:t,refine:o,createURL:a})=>[t?(h(),u("a",{key:0,class:"rounded-full bg-abergeldie-gray px-2 py-1 text-xs font-semibold uppercase tracking-wide text-abergeldie-green",href:a(),onClick:g(o,["prevent"])}," Clear all ",8,oe)):_("",!0)]),_:1})])]),e("div",ce,[e("div",de,[e("div",he,[me,e("div",pe,[e("div",fe,[e("div",ue,[e("div",null,[ge,l.isAisLoading?(h(),u("div",_e,ve)):_("",!0),i(f,{attribute:"Region",class:"hidden"}),i(f,{attribute:"Region","sort-by":["name:asc"],"class-names":{"ais-RefinementList":"","ais-RefinementList--noRefinement":"","ais-RefinementList-list":"space-y-2","ais-RefinementList-item":"","ais-RefinementList-item--selected":"","ais-RefinementList-label":"","ais-RefinementList-labelText":"","ais-RefinementList-checkbox":"rounded border-abergeldie-stroke mr-2","ais-RefinementList-count":"sr-only","ais-RefinementList-searchBox":"","ais-RefinementList-noResults":"","ais-RefinementList-showMore":"","ais-RefinementList-showMore--disabled":""}})]),e("div",null,[xe,l.isAisLoading?(h(),u("div",we,Ce)):_("",!0),i(f,{attribute:"Capability",class:"hidden"}),i(f,{attribute:"Capability","sort-by":["name:asc"],"class-names":{"ais-RefinementList":"","ais-RefinementList--noRefinement":"","ais-RefinementList-list":"space-y-2","ais-RefinementList-item":"","ais-RefinementList-item--selected":"","ais-RefinementList-label":"","ais-RefinementList-labelText":"","ais-RefinementList-checkbox":"rounded border-abergeldie-stroke mr-2","ais-RefinementList-count":"sr-only","ais-RefinementList-searchBox":"","ais-RefinementList-noResults":"","ais-RefinementList-showMore":"","ais-RefinementList-showMore--disabled":""}})]),Le])])])])]),e("div",Re,[e("div",ke,[e("div",Te,[e("div",null,[i(E,null,{default:d(({hitsPerPage:t,nbHits:o,page:a})=>[e("p",null,"Showing "+C(c.renderViewingRange(t,a,o)),1)]),_:1})]),e("div",Se,[q(" Results per page: "),i(H,{items:[{label:"10",value:10,default:!0},{label:"20",value:20},{label:"40",value:40}],"class-names":{"ais-HitsPerPage":"","ais-HitsPerPage-select":"min-h-0 w-11 p-0 pr-4 border-0 bg-transparent text-abergeldie-green bg-right focus:border-0 focus:ring-0 bg-select-arrow-abergeldie-green bg-select-arrow-abergeldie-green","ais-HitsPerPage-option":""}})])]),l.isAisLoading?(h(),u("div",Ee,Ae)):_("",!0),i(B,null,{default:d(({status:t,results:{hits:o}})=>[F(e("div",null,"No results found.",512),[[I,!o.length]]),e("div",{class:L(["transition-opacity duration-500",{"opacity-20":t==="stalled","opacity-100":t!=="stalled"}])},[i(M,{"transform-items":c.transformItems,"class-names":{"ais-Hits":"","ais-Hits-list":"space-y-8","ais-Hits-item":"relative group"}},{item:d(({item:a})=>[e("h3",Me,[e("a",{class:"text-abergeldie-green hover:underline",href:a.Url},[i(A,{attribute:"Title",hit:a,"highlighted-tag-name":"u"},null,8,["hit"])],8,Be)]),e("div",null,C(a.Description),1)]),_:1},8,["transform-items"])],2)]),_:1})])])]),i(P,{"class-names":{"ais-Pagination":"border-t pt-10 mt-16"}},{default:d(({currentRefinement:t,pages:o,isFirstPage:a,isLastPage:x,refine:w,createURL:R})=>[e("nav",Pe,[e("a",{class:L(["flex aspect-square h-[50px] items-center justify-center rounded-full bg-abergeldie-green text-white transition-colors hover:bg-abergeldie-blue",{"pointer-events-none opacity-30":a}]),href:R(t-1),onClick:g(y=>{w(t-1),c.scrollToResultsTop()},["prevent"])},qe,10,je),e("div",null,[e("div",Fe,[e("input",{type:"text",class:"w-12 rounded text-center",value:t+1,onChange:g(y=>{w(y.target.value-1),c.scrollToResultsTop()},["prevent"])},null,40,Ie),Ne,e("span",null,C(o.length),1)])]),e("a",{class:L(["flex aspect-square h-[50px] items-center justify-center rounded-full bg-abergeldie-green text-white transition-colors hover:bg-abergeldie-blue",{"pointer-events-none opacity-30":x}]),href:R(t+1),onClick:g(y=>{w(t+1),c.scrollToResultsTop()},["prevent"])},De,10,ze)])]),_:1})],512)])]),_:3},8,["search-client","index-name","routing","middlewares","on-state-change"])}const We=D(K,[["render",Ze]]);export{We as default};
